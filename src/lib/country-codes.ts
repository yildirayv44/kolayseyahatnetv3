/**
 * ISO 3166-1 alpha-3 country codes mapping
 * Maps Turkish country names to their ISO codes
 */

export const COUNTRY_NAME_TO_CODE: Record<string, string> = {
  // A
  'Afganistan': 'AFG',
  'Almanya': 'DEU',
  'Amerika Birleşik Devletleri': 'USA',
  'ABD': 'USA',
  'Andorra': 'AND',
  'Angola': 'AGO',
  'Antigua ve Barbuda': 'ATG',
  'Arjantin': 'ARG',
  'Arnavutluk': 'ALB',
  'Ermenistan': 'ARM',
  'Avustralya': 'AUS',
  'Avusturya': 'AUT',
  'Azerbaycan': 'AZE',
  
  // B
  'Bahamas': 'BHS',
  'Bahamalar': 'BHS',
  'Bahreyn': 'BHR',
  'Bangladeş': 'BGD',
  'Barbados': 'BRB',
  'Belarus': 'BLR',
  'Belçika': 'BEL',
  'Belize': 'BLZ',
  'Benin': 'BEN',
  'Bhutan': 'BTN',
  'Birleşik Arap Emirlikleri': 'ARE',
  'BAE': 'ARE',
  'Birleşik Krallık': 'GBR',
  'İngiltere': 'GBR',
  'Bolivya': 'BOL',
  'Bosna-Hersek': 'BIH',
  'Bosna Hersek': 'BIH',
  'Botsvana': 'BWA',
  'Brezilya': 'BRA',
  'Brunei': 'BRN',
  'Bulgaristan': 'BGR',
  'Burkina Faso': 'BFA',
  'Burundi': 'BDI',
  
  // C
  'Cape Verde': 'CPV',
  'Cezayir': 'DZA',
  'Cibuti': 'DJI',
  
  // Ç
  'Çad': 'TCD',
  'Çekya': 'CZE',
  'Çin': 'CHN',
  
  // D
  'Danimarka': 'DNK',
  'Dominik Cumhuriyeti': 'DOM',
  'Dominika': 'DMA',
  'Doğu Timor': 'TLS',
  
  // E
  'Ekvador': 'ECU',
  'Ekvator Ginesi': 'GNQ',
  'El Salvador': 'SLV',
  'Endonezya': 'IDN',
  'Eritre': 'ERI',
  'Estonya': 'EST',
  'Eswatini': 'SWZ',
  'Etiyopya': 'ETH',
  
  // F
  'Fas': 'MAR',
  'Fiji': 'FJI',
  'Fildişi Sahili': 'CIV',
  'Filipinler': 'PHL',
  'Filistin': 'PSE',
  'Finlandiya': 'FIN',
  'Fransa': 'FRA',
  'Fransız Polinezyası': 'PYF',
  'Fransız Guyanası': 'GUF',
  
  // G
  'Gabon': 'GAB',
  'Gambiya': 'GMB',
  'Gana': 'GHA',
  'Gine': 'GIN',
  'Gine-Bissau': 'GNB',
  'Granada': 'GRD',
  'Grenada': 'GRD',
  'Guatemala': 'GTM',
  'Guyana': 'GUY',
  'Güney Afrika': 'ZAF',
  'Güney Kore': 'KOR',
  'Güney Sudan': 'SSD',
  'Gürcistan': 'GEO',
  
  // H
  'Haiti': 'HTI',
  'Hindistan': 'IND',
  'Hırvatistan': 'HRV',
  'Hollanda': 'NLD',
  'Honduras': 'HND',
  'Hong Kong': 'HKG',
  
  // I
  'Irak': 'IRQ',
  
  // İ
  'İrlanda': 'IRL',
  'İran': 'IRN',
  'İspanya': 'ESP',
  'İsrail': 'ISR',
  'İsveç': 'SWE',
  'İsviçre': 'CHE',
  'İtalya': 'ITA',
  'İzlanda': 'ISL',
  
  // J
  'Jamaika': 'JAM',
  'Japonya': 'JPN',
  
  // K
  'Kamboçya': 'KHM',
  'Kamerun': 'CMR',
  'Kanada': 'CAN',
  'Karadağ': 'MNE',
  'Katar': 'QAT',
  'Kazakistan': 'KAZ',
  'Kenya': 'KEN',
  'Kıbrıs': 'CYP',
  'Kırgızistan': 'KGZ',
  'Kiribati': 'KIR',
  'Kolombiya': 'COL',
  'Komorlar': 'COM',
  'Kongo': 'COG',
  'Kongo Demokratik Cumhuriyeti': 'COD',
  'Kosta Rika': 'CRI',
  'Kosova': 'XKX',
  'Kuveyt': 'KWT',
  'Kuzey Kore': 'PRK',
  'Kuzey Makedonya': 'MKD',
  'Küba': 'CUB',
  
  // L
  'Laos': 'LAO',
  'Lesotho': 'LSO',
  'Letonya': 'LVA',
  'Liberya': 'LBR',
  'Libya': 'LBY',
  'Liechtenstein': 'LIE',
  'Lihtenştayn': 'LIE',
  'Litvanya': 'LTU',
  'Lübnan': 'LBN',
  'Lüksemburg': 'LUX',
  
  // M
  'Macaristan': 'HUN',
  'Madagaskar': 'MDG',
  'Makao': 'MAC',
  'Malavi': 'MWI',
  'Malawi': 'MWI',
  'Maldivler': 'MDV',
  'Malezya': 'MYS',
  'Mali': 'MLI',
  'Malta': 'MLT',
  'Marshall Adaları': 'MHL',
  'Mauritius': 'MUS',
  'Meksika': 'MEX',
  'Mikronezya': 'FSM',
  'Mısır': 'EGY',
  'Moğolistan': 'MNG',
  'Moldova': 'MDA',
  'Monako': 'MCO',
  'Moritanya': 'MRT',
  'Mozambik': 'MOZ',
  'Myanmar': 'MMR',
  
  // N
  'Namibya': 'NAM',
  'Nauru': 'NRU',
  'Nepal': 'NPL',
  'Nijer': 'NER',
  'Nijerya': 'NGA',
  'Nikaragua': 'NIC',
  'Norveç': 'NOR',
  
  // O
  'Orta Afrika Cumhuriyeti': 'CAF',
  'Özbekistan': 'UZB',
  
  // P
  'Pakistan': 'PAK',
  'Palau': 'PLW',
  'Panama': 'PAN',
  'Papua Yeni Gine': 'PNG',
  'Paraguay': 'PRY',
  'Peru': 'PER',
  'Polonya': 'POL',
  'Portekiz': 'PRT',
  
  // R
  'Romanya': 'ROU',
  'Ruanda': 'RWA',
  'Rusya': 'RUS',
  
  // S
  'Saint Kitts ve Nevis': 'KNA',
  'Saint Lucia': 'LCA',
  'Saint Vincent ve Grenadinler': 'VCT',
  'Samoa': 'WSM',
  'San Marino': 'SMR',
  'São Tomé ve Príncipe': 'STP',
  'Sao Tome ve Principe': 'STP',
  'Senegal': 'SEN',
  'Seyşeller': 'SYC',
  'Sierra Leone': 'SLE',
  'Singapur': 'SGP',
  'Slovakya': 'SVK',
  'Slovenya': 'SVN',
  'Solomon Adaları': 'SLB',
  'Somali': 'SOM',
  'Sri Lanka': 'LKA',
  'Sudan': 'SDN',
  'Surinam': 'SUR',
  'Suriye': 'SYR',
  'Suudi Arabistan': 'SAU',
  'Svaziland': 'SWZ',
  'Sırbistan': 'SRB',
  
  // Ş
  'Şili': 'CHL',
  
  // T
  'Tacikistan': 'TJK',
  'Tanzanya': 'TZA',
  'Tayland': 'THA',
  'Tayvan': 'TWN',
  'Togo': 'TGO',
  'Tonga': 'TON',
  'Trinidad ve Tobago': 'TTO',
  'Tunus': 'TUN',
  'Türkmenistan': 'TKM',
  'Tuvalu': 'TUV',
  
  // U
  'Uganda': 'UGA',
  'Ukrayna': 'UKR',
  'Umman': 'OMN',
  'Uruguay': 'URY',
  
  // Ü
  'Ürdün': 'JOR',
  
  // V
  'Vanuatu': 'VUT',
  'Vatikan': 'VAT',
  'Venezuela': 'VEN',
  'Vietnam': 'VNM',
  
  // Y
  'Yemen': 'YEM',
  'Yeni Kaledonya': 'NCL',
  'Yeni Zelanda': 'NZL',
  'Yunanistan': 'GRC',
  
  // Z
  'Zambiya': 'ZMB',
  'Zimbabve': 'ZWE',
};

/**
 * Get ISO 3166-1 alpha-3 country code from Turkish country name
 * @param countryName Turkish country name
 * @returns ISO country code or null if not found
 */
export function getCountryCode(countryName: string): string | null {
  // Normalize the name (trim, remove extra spaces)
  const normalized = countryName.trim().replace(/\s+/g, ' ');
  
  // Direct match
  if (COUNTRY_NAME_TO_CODE[normalized]) {
    return COUNTRY_NAME_TO_CODE[normalized];
  }
  
  // Try case-insensitive match
  const lowerName = normalized.toLowerCase();
  for (const [name, code] of Object.entries(COUNTRY_NAME_TO_CODE)) {
    if (name.toLowerCase() === lowerName) {
      return code;
    }
  }
  
  // Try partial match (for cases like "Amerika" -> "Amerika Birleşik Devletleri")
  for (const [name, code] of Object.entries(COUNTRY_NAME_TO_CODE)) {
    if (name.toLowerCase().includes(lowerName) || lowerName.includes(name.toLowerCase())) {
      return code;
    }
  }
  
  return null;
}

/**
 * Get all available country codes
 */
export function getAllCountryCodes(): string[] {
  return Array.from(new Set(Object.values(COUNTRY_NAME_TO_CODE))).sort();
}

/**
 * Get country name from code
 */
export function getCountryNameFromCode(code: string): string | null {
  for (const [name, countryCode] of Object.entries(COUNTRY_NAME_TO_CODE)) {
    if (countryCode === code) {
      return name;
    }
  }
  return null;
}
